# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on merge
'on':
  push:
    branches:
      - master
jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    steps:
      # - uses: actions/checkout@v2
      # - name: Installing dependencies
      #   run: (cd frontend && npm install)
      # - name: Building app
      #   run: (cd frontend && npm run build)
      #   env:
      #     CI: false
      # - uses: FirebaseExtended/action-hosting-deploy@v0
      #   with:
      #     entryPoint: frontend
      #     repoToken: '${{ secrets.GITHUB_TOKEN }}'
      #     firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_PICTIONARY_FRONTEND }}'
      #     channelId: live
      #     projectId: pictionary-frontend
      - uses: akhileshns/heroku-deploy@v3.12.12
        with:
          heroku_api_key: ${{secrets.HEROKU_API_KEY}}
          heroku_app_name: pictionary-backend-server
          heroku_email: kirollosbotros@hotmail.com
          appdir: Pictionary/backend

